<!DOCTYPE html>
<html>
    <head>
        <!-- font-awesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <!-- linking font family -->
        <link href="https://fonts.googleapis.com/css2?family=Silkscreen&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="style.css">
        <title>SpaceSheep Adventure</title>
    </head>
    <body>
        <h1>SpaceSheep Adventure</h1>
        <!-- volume control -->
        <nav>
            <audio id="musicAudio">
                <source src="../assets/8-bit-retro-game-music-233964.mp3" type="audio/mpeg">
            </audio>
            <audio id="effectAudio">
                <source src="../assets/coin-collect-retro-8-bit-sound-effect-145251.mp3" type="audio/mpeg">
            </audio>
            <audio id="gameOverAudio">
                <source src="../assets/game-over-39-199830.mp3" type="audio/mpeg">
            </audio>
            <ul>
                <li class="logo">
                    <i id="volume" class="fa fa-volume-down" style="color: white; font-size:48px; padding-left: 20px;"></i>
                </li>
                <li class="list-item">
                    <span>Music</span>
                    <input class="volume" id="music" type="range" min="0" max="1" step="0.01" name="music" oninput="musicVolumeRangeValue.innerText = this.value"><span class="range-value" id="musicVolumeRangeValue">0.50</span>
                </li>
                <li class="list-item">
                    <span>Effect</span>
                    <input class="volume" id="effect" type="range" min="0" max="1" step="0.01" name="effect" oninput="effectVolumeRangeValue.innerText = this.value"><span class="range-value" id="effectVolumeRangeValue">0.50</span>
                </li>  
            </ul>
        </nav>

        <div class="menu">
            <button id="openLeaderboardModal" class="menu-btn">üèÜ Leaderboard</button>
            <button id="openInventoryModal" class="menu-btn">üéí Inventory</button>
            <button id="openShopModal" class="menu-btn">üõí Shop</button>
            <button id="openAuthModal" class="menu-btn">üåê Login/Register</button>
        </div>

        <div id="container">
            <canvas id="gameCanvas" width="800" height="300"></canvas>
            <button id="startGame">Start Game!</button>
            <div id="scoreBoard">
                <p>HI</p>
                <p id="highestScore">0000000</p>
                <p id="scoreCounter">0000000</p>
            </div>
        </div>

        <div id="authModal" class="modal" role="dialog" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <button class="modal-close" id="closeAuthModal">&times;</button>
                <form id="authForm">
                    <h2>Login / Register</h2>
                    <label for="username">User ID</label>
                    <input id="username" name="username" type="text" placeholder="your_user_id" required>

                    <label for="password">Password</label>
                    <input id="password" name="password" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>

                    <button type="submit" id="loginSubmit" name="login">Login</button>
                    <button type="submit" id="registerSubmit" name="register">Register</button>
                    <p id="authMessage" class="message"></p>
                </form>
            </div>
        </div>

        <div id="leaderboardModal" class="modal" role="dialog" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <button class="modal-close" id="closeLeaderboardModal">&times;</button>
                <h2>Leaderboard</h2>
                <div id="leaderboardStatus" class="message"></div>
                <div class="table-wrap">
                    <table class="board">
                        <thead>
                        <tr>
                            <th style="width:64px;">Rank</th>
                            <th>User</th>
                            <th style="width:120px;">Score</th>
                        </tr>
                        </thead>
                        <tbody id="leaderboardBody">
                        <!-- rows injected here -->
                        </tbody>
                    </table>
                </div>

            </div>
        </div>

        <div id="inventoryModal" class="modal" role="dialog">
            <div class="modal-dialog" role="document">
                <button class="modal-close" id="closeInventoryModal">&times;</button>
                <h2>Inventory</h2>
                <div id="inventoryStatus" class="message"></div>
                <div class="inventory-grid" id="inventoryBody">
                    <!-- items injected here -->
                </div>
            </div>
        </div>

        <div id="shopModal" class="modal" role="dialog">
            <div class="modal-dialog" role="document">
                <button class="modal-close" id="closeShopModal">&times;</button>
                <h2>Shop</h2>
                <p>Deduct 500 points to generate an item!</p>
                <p>Now you have: <span id="pointsDisplay">0</span> points</p>
                <button id="generateItemButton">Buy!</button>
                <div id="shopBody" class="message">
                    <!-- item injected here -->
                </div>
            </div>
        </div>

        <script src="../backend/setup.js" type="module"></script>
        <script src="../backend/game.js" type="module"></script>
        <script src="../backend/sound.js" type="module"></script>
        <script src="../backend/modalHandler.js" type="module"></script>
    </body>
</html>